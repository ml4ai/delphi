<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contributing &mdash; delphi  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/collapsible-lists/css/tree_view.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="C++ API" href="cpp_api/library_root.html" />
    <link rel="prev" title="&lt;no title&gt;" href="delphi_database.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> delphi
            <img src="_static/delphi_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">The Delphi model</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">}</a></li>
<li class="toctree-l1"><a class="reference internal" href="GrFN_API.html">GroundedFunctionNetwork API</a></li>
<li class="toctree-l1"><a class="reference internal" href="grfn_spec.html">}</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#suggested-git-workflow">Suggested Git Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-tests-locally">Running tests locally</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cpp_api/library_root.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="grfn_openapi.html">GrFN OpenAPI Specification</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">delphi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Contributing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/CONTRIBUTING.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline"></a></h1>
<section id="suggested-git-workflow">
<h2>Suggested Git Workflow<a class="headerlink" href="#suggested-git-workflow" title="Permalink to this headline"></a></h2>
<p>The following git workflow is suggested for contributors. To implement a new
feature, do the following:</p>
<ul>
<li><p>Assuming you are on the <cite>master</cite> branch, check out a new feature branch. If
the name of the feature is <cite>new_feature</cite>, you would do <cite>git checkout -b new_feature</cite>.</p></li>
<li><p>Implement the feature.</p></li>
<li><p>Run <cite>git status</cite> to see what files have changed. Optionally, run <cite>git diff</cite> to
see the details of the changes to refresh your memory (and catch errant print
statements!).</p></li>
<li><p>Add the new/changed files by doing
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">git</span> <span class="pre">add</span> <span class="pre">&lt;filename1&gt;</span> <span class="pre">&lt;filename2&gt;</span> <span class="pre">...</span> <span class="pre">&lt;filenameN&gt;</span>
<span class="pre">`</span></code>
Remember:
- Only add human-generated files. Examples include:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>Source code:</dt><dd><ul class="simple">
<li><p><cite>.py</cite> files</p></li>
<li><p>Jupyter notebooks with their outputs cleared.</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p>Documentation in the form of <cite>.md</cite> and <cite>.rst</cite> files.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
<ul>
<li><p>In the case of testing code, this restriction can be relaxed a bit - for
example, if you want to test the JSON output of a function, you can put
the corresponding JSON file in the <cite>tests/data</cite> directory.</p></li>
<li><p>In general, do not add non-text files, as <cite>git</cite> is designed to version
control source code (i.e. text files). There are some exceptions, however:
- Images that go into the <cite>README.md</cite> file in the root of the repository -</p>
<blockquote>
<div><p>they need to be checked in to render properly on Github.com.</p>
</div></blockquote>
<ul class="simple">
<li><p>The OpenFortranParser program, that is required for analyzing Fortran
programs, requires four JAR files (in <cite>delphi/translators/for2py/bin</cite>) -
these are checked into the repository for easier deployment, and because
we do not expect them to change in the future.</p></li>
</ul>
</li>
<li><p><strong>Do not run</strong> <cite>git add .</cite> Instead, add the changed files individually -
this will encourage you to make your commits less monolithic, which makes
them easier to merge, and to revert if necessary. Also, this prevents the
accidental addition of automatically-generated files to version control,
which bloats the repository.</p></li>
</ul>
</li>
<li><p>Commit the changes:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;Description</span> <span class="pre">of</span> <span class="pre">features/changes</span> <span class="pre">that</span> <span class="pre">were</span> <span class="pre">implemented.&quot;</span>
<span class="pre">`</span></code></p></li>
<li><p>Push the changes:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">git</span> <span class="pre">push</span>
<span class="pre">`</span></code></p></li>
<li><p>Wait for an email from [Travis CI](<a class="reference external" href="https://travis-ci.org/ml4ai/delphi">https://travis-ci.org/ml4ai/delphi</a>), to let
you know whether the automated tests have passed or failed (if you haven’t
signed up for email alerts from Travis, you can simply view the live test
execution log on the Travis website itself.) The tests take about 6 minutes as
of the time of writing this (January 4, 2019), but could potentially take
longer as Delphi undergoes further development.</p></li>
<li><p>If the tests pass,
[open a pull request (PR)](<a class="reference external" href="https://help.github.com/articles/creating-a-pull-request/">https://help.github.com/articles/creating-a-pull-request/</a>)
by going to the [repo website](<a class="reference external" href="https://github.com/ml4ai/delphi">https://github.com/ml4ai/delphi</a>).</p></li>
<li><p>One of the repo maintainers will then review your PR, and merge it into the
master branch.</p></li>
<li><p>Once the feature branch is merged, do the following:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">master</span>
<span class="pre">git</span> <span class="pre">pull</span>
<span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-D</span> <span class="pre">new_feature</span>
<span class="pre">`</span></code></p></li>
<li><p><strong>Tip 1:</strong>: In general, smaller pull requests are better, and easier to merge.</p></li>
<li><dl class="simple">
<dt><strong>Tip 2:</strong>: Whenever you get an email from Github telling you that a branch</dt><dd><p>has been merged into the master branch, but you are in the middle of
implementing your feature branch, make sure to pull the changes from master
into your branch and resolve any merge conflicts (another reason to not
delay PRs!). Assuming you are on the <cite>new_feature</cite> branch, you would do:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">git</span> <span class="pre">pull</span> <span class="pre">origin</span> <span class="pre">master</span>
<span class="pre">`</span></code>
For those more proficient in the usage of <cite>git</cite>- feel free to fetch changes
from master and rebase your feature branch on top of the master branch.</p>
</dd>
</dl>
</li>
<li><p>Committing changes directly to the <cite>master</cite> branch is <em>highly</em> discouraged.
The only exception to this rule is documentation updates (updating READMEs,
etc.) And even then, major documentation updates should be done via a PR.</p></li>
</ul>
</section>
<section id="running-tests-locally">
<h2>Running tests locally<a class="headerlink" href="#running-tests-locally" title="Permalink to this headline"></a></h2>
<p>To run the complete test suite, invoke the following command from the Delphi
repo root directory.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">make</span> <span class="pre">test</span>
<span class="pre">`</span></code></p>
<p>To run a particular test module, e.g. <cite>test_program_analysis.py</cite>, invoke the
following command instead:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">pytest</span> <span class="pre">tests/test_program_analysis.py</span>
<span class="pre">`</span></code></p>
<p>To run a particular testing function within a test module, e.g. the
<cite>test_petpt_grfn_generation</cite> test function in <cite>test_program_analysis.py</cite>,
invoke the following instead:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">pytest</span> <span class="pre">tests/test_program_analysis.py</span> <span class="pre">-k</span> <span class="pre">test_petpt_grfn_generation</span>
<span class="pre">`</span></code></p>
<p>If you would like the output of print statements (either in the library code or
the testing code) to be displayed instead of suppressed, pass the <cite>-s</cite> flag to
the <cite>pytest</cite> invocation:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">pytest</span> <span class="pre">-s</span> <span class="pre">tests/test_program_analysis.py</span>
<span class="pre">`</span></code></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="delphi_database.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cpp_api/library_root.html" class="btn btn-neutral float-right" title="C++ API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Adarsh.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>